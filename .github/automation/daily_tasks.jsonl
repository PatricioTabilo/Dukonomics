{"id": "DK-002", "priority": "high", "type": "refactor", "file": "Commands.lua", "commit": "refactor(commands): extract RequireDebugMode helper", "instruction": "Create a local helper RequireDebugMode() that prints the existing warning and returns false when debug mode is disabled. Reuse it in test-related commands to remove repeated blocks.", "acceptance": ["RequireDebugMode helper exists", "Repeated debug guards are reduced"], "verify": ["manual_commands_review"]}
{"id": "DK-003", "priority": "high", "type": "fix", "file": "UI/Formatting.lua", "commit": "fix(formatting): support million separators in FormatMoney", "instruction": "Update FormatMoney so gold values format correctly for all magnitudes (e.g., 1,500,000g instead of malformed thousands grouping).", "acceptance": ["Gold formatting works for >= 1,000,000", "Existing icon output is preserved"], "verify": ["manual_formatting_review"]}
{"id": "DK-004", "priority": "medium", "type": "fix", "file": "UI/Formatting.lua", "commit": "fix(formatting): handle negative copper values", "instruction": "Enhance FormatMoney to support negative copper inputs while preserving current positive formatting behavior.", "acceptance": ["Negative values display with clear sign", "Positive values unchanged"], "verify": ["manual_formatting_review"]}
{"id": "DK-005", "priority": "medium", "type": "fix", "file": "Core.lua", "commit": "fix(core): centralize addon version metadata", "instruction": "Define Dukonomics.VERSION during initialization using addon metadata APIs and reuse it for welcome messaging instead of hardcoded fallback strings where possible.", "acceptance": ["Dukonomics.VERSION is set once", "Welcome message uses shared version value"], "verify": ["manual_core_review"]}
{"id": "DK-006", "priority": "medium", "type": "feat", "file": "Commands.lua", "commit": "feat(commands): add /duk version command", "instruction": "Add '/duk version' command that prints the current addon version from Dukonomics.VERSION or metadata fallback.", "acceptance": ["/duk version command exists", "Help output includes version command"], "verify": ["manual_commands_review"]}
{"id": "DK-007", "priority": "medium", "type": "refactor", "file": "data/ConfigRepository.lua", "commit": "refactor(config): deep-merge default config tables", "instruction": "Improve default config initialization to deep-merge nested defaults instead of shallow-copying only one table level.", "acceptance": ["Nested defaults are populated safely", "Existing saved values are preserved"], "verify": ["manual_config_review"]}
{"id": "DK-008", "priority": "medium", "type": "feat", "file": "testing/TestRunner.lua", "commit": "feat(testing): add pass/fail summary counters", "instruction": "Track total, passed, and failed test counts in RunTests and print a concise summary at the end.", "acceptance": ["Summary includes totals", "Existing test flow still runs"], "verify": ["manual_testrunner_review"]}
{"id": "DK-009", "priority": "low", "type": "docs", "file": "README.md", "commit": "docs(readme): add compatibility note for WoW version", "instruction": "Add a small compatibility section in README indicating current intended WoW client version support.", "acceptance": ["README includes compatibility note", "Formatting remains valid markdown"], "verify": ["manual_readme_review"]}
{"id": "DK-010", "priority": "low", "type": "chore", "file": "core/Logger.lua", "commit": "chore(logger): add warn method for non-critical warnings", "instruction": "Add Dukonomics.Logger.warn(msg) with a distinct prefix/color for warning-level messages while keeping current print/debug behavior.", "acceptance": ["warn method exists", "No regressions in print/debug methods"], "verify": ["manual_logger_review"]}
